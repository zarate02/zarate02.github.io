---
title: "[CKA] 010. Storage"
date: 2026-01-22T00:00:02+09:00
slug: /2026_0013/
description: Volume, PV, PVC, Storage Class
image: /images/devops/2026/cka.jpg #720*430
#caption: Photo by Gemini
categories:
  - devops
tags:
  - cka
draft: false
---
# Volume
```yaml
apiVersion: v1
kind: Pod
metadata:
    name: webapp
    namespace: default
spec:
  containers:
    - env:
      volumeMounts:
      - mountPath: /log
        name: klog
        readOnly: false
volumes:
- name: klog
  hostPath:
    path: /var/log/webapp                                                                                                                             1,1           Top
```

# PV : 
```yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: pv-log
spec:
  capacity:
    storage: 100Mi
  accessModes:
    - ReadWriteMany
  persistentVolumeReclaimPolicy: Retain
  hostPath:
    path: /pv/log
```
- Retain : PVC delete -> PV keep data
- Delete : PVC delete -> PV delete

# PVC
```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: claim-log-1
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 50Mi
```
- if pvc's accessModes mismatch pv's accessModes, not bind.

# Storage Class
```yaml
apiVersion: storage.k8s.io/v1
kind: StorageClass
metadata:
    name: fast
provisioner: kubernetes.io/aws-ebs
```
```yaml
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: claim-log-1
spec:
  accessModes:
    - ReadWriteOnce
  storageClassName: fast
  resources:
    requests:
      storage: 50Mi
```